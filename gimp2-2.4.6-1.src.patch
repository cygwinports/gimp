diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x devel-docs origsrc/gimp-2.4.6/configure.in src/gimp-2.4.6/configure.in
--- origsrc/gimp-2.4.6/configure.in	2008-05-23 04:41:20.000000000 -0500
+++ src/gimp-2.4.6/configure.in	2008-06-01 01:39:39.609375000 -0500
@@ -727,7 +727,7 @@
 esac
 
 
-if test "x$platform_win32" = "xyes"; then
+if test "x$os_win32" = "xyes"; then
   shmtype=win32
 elif test "x$shmtype" = "xsysv"; then
   AC_CHECK_HEADER(sys/ipc.h,
@@ -810,7 +810,7 @@
 AC_MSG_CHECKING([whether symbols are prefixed])
 
 case "$host_os" in
-  mingw*)
+  mingw* | cygwin*)
     SYMPREFIX='_'
     ;;
   darwin* | rhapsody* | machten*)
@@ -903,7 +903,7 @@
    LIBSCREENSHOT="$X_LIBS -lX11"
 
    dnl doc-shooter is X11 specific
-   DOC_SHOOTER=doc-shooter
+   doc_shooter=yes
 
    gimp_save_CFLAGS="$CFLAGS"
    gimp_save_LDFLAGS="$LDFLAGS"
@@ -939,7 +939,7 @@
 AC_SUBST(LIBXMU)
 AC_SUBST(LIBSCREENSHOT)
 
-AC_SUBST(DOC_SHOOTER)
+AM_CONDITIONAL(BUILD_DOC_SHOOTER, test "x$doc_shooter" == "xyes")
 
 AC_SUBST(GIMP_REMOTE)
 AC_SUBST(GIMP_COMMAND)
@@ -1593,15 +1593,22 @@
   dnl This might be able to be figured out from distutils, but it's
   dnl not documented so we won't rely on internal implementation
   PYLINK_LIBS=
-  if test "x$platform_win32" = "xyes"; then
-    PYBIN_PATH="$py_exec_prefix\pythonw.exe"
-    PYTHON_INCLUDES=`$echo "$PYTHON_INCLUDES" | sed -e 's/\\\\/\\//g'`
-    py_exec_prefix=`echo "$py_exec_prefix" | sed -e 's/\\\\/\\//g'`
-    pylibversion=`echo $PYTHON_VERSION | sed -e 's/\\.//'`
-    PYLINK_LIBS="-L${py_exec_prefix}/libs -lpython${pylibversion}"
-  else
-    PYBIN_PATH="$PYTHON"
-  fi
+  case "$target_or_host" in
+    *-*-cygwin*)
+      PYBIN_PATH="$PYTHON"
+      PYLINK_LIBS="-L${py_exec_prefix}/lib/python${PYTHON_VERSION}/config -lpython${PYTHON_VERSION}"
+      ;;
+    *-*-mingw*)
+      PYBIN_PATH="$py_exec_prefix\pythonw.exe"
+      PYTHON_INCLUDES=`$echo "$PYTHON_INCLUDES" | sed -e 's/\\\\/\\//g'`
+      py_exec_prefix=`echo "$py_exec_prefix" | sed -e 's/\\\\/\\//g'`
+      pylibversion=`echo $PYTHON_VERSION | sed -e 's/\\.//'`
+      PYLINK_LIBS="-L${py_exec_prefix}/libs -lpython${pylibversion}"
+      ;;
+    *)
+      PYBIN_PATH="$PYTHON"
+      ;;
+  esac
   AC_SUBST(PYLINK_LIBS)
   AC_SUBST(PYBIN_PATH)
 
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4~' -x aclocal.m4t -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x '*config.h.in' -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x libtool.m4 -x ltoptions.m4 -x ltsugar.m4 -x ltversion.m4 -x 'lt~obsolete.m4' -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x aclocal.m4 -x Makefile.in -x makefile.in -x configure -x '*.stamp' -x '*.html' -x '*.bak' -x '*.sgml' -x '*.tmpl' -x '*.txt' -x '*.xml' -x '*.args' -x '*.devhelp*' -x '*.css' -x '*.hierarchy' -x '*.interfaces' -x '*.prerequisites' -x '*.signals' -x '*.png' -x '*.top' -x '*.bottom' -x gtk-doc.make -x gtk-doc.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x devel-docs origsrc/gimp-2.4.6/plug-ins/pygimp/Makefile.am src/gimp-2.4.6/plug-ins/pygimp/Makefile.am
--- origsrc/gimp-2.4.6/plug-ins/pygimp/Makefile.am	2007-11-20 03:33:14.000000000 -0600
+++ src/gimp-2.4.6/plug-ins/pygimp/Makefile.am	2008-06-01 01:39:39.640625000 -0500
@@ -13,9 +13,6 @@
 
 if PLATFORM_WIN32
 no_undefined = -no-undefined
-path_separator = ;
-else
-path_separator = :
 endif
 
 AM_CFLAGS = $(PYGIMP_EXTRA_CFLAGS)
@@ -139,7 +136,7 @@
 
 install-env-file:
 	$(mkinstalldirs) '$(DESTDIR)$(pyenvdir)'
-	echo '$(path_separator) PYTHONPATH=$${gimp_plug_in_dir}/$(pygimpbase)' > '$(DESTDIR)$(pyenvfile)'
+	echo '$(PATHSEP) PYTHONPATH=$${gimp_plug_in_dir}/$(pygimpbase)' > '$(DESTDIR)$(pyenvfile)'
 
 install-interp-file:
 	$(mkinstalldirs) '$(DESTDIR)$(pyinterpdir)'
